# ============================================
# CONFIGURACIÓN DE LA BASE DE DATOS MYSQL
# ============================================

spring.datasource.url=jdbc:mysql://localhost:3307/ticketloft_db?useSSL=false&serverTimezone=Europe/Madrid&allowPublicKeyRetrieval=true
spring.datasource.username=ticketloft
spring.datasource.password=ticketloft123
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ============================================
# CONFIGURACIÓN DE JPA/HIBERNATE
# ============================================

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# IMPORTANTE: Cambiar a "update" para crear las tablas automáticamente
spring.jpa.hibernate.ddl-auto=update

# ============================================
# CONFIGURACIÓN DE THYMELEAF
# ============================================

spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# ============================================
# CONFIGURACIÓN DEL SERVIDOR
# ============================================

server.port=8080

# ============================================
# CONFIGURACIÓN DE LOGGING
# ============================================

logging.level.org.springframework=INFO
logging.level.org.hibernate=INFO
logging.level.com.ticketloft=DEBUG
logging.level.org.springframework.security=DEBUG

# ============================================
# CONFIGURACIÓN DE SEGURIDAD
# ============================================

# Permitir frames (para desarrollo, desactívalo en producción)
spring.security.headers.frame=false

# ============================================
# CONFIGURACIÓN DE SESIONES
# ============================================

# Tiempo de expiración de sesión (30 minutos)
server.servlet.session.timeout=30m

# Cookie de sesión
server.servlet.session.cookie.name=TICKETLOFT_SESSION
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=false
server.servlet.session.cookie.same-site=lax

# ============================================
# OTRAS CONFIGURACIONES
# ============================================

# Tamaño máximo de archivo para upload
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB